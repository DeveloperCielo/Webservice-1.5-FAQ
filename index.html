<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link href="https://www.cielo.com.br/wps/contenthandler/!ut/p/digest!3SvhW8ACOLyj_90YHxPhKQ/war/cielo-tema/themes/estatico/images/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <title>Perguntas frequentes</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="javascripts/all.js" type="text/javascript"></script>

    <script async src='//www.google-analytics.com/analytics.js'></script>
    <script>
    window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;

    ga('create', 'UA-8516386-7', {'cookieDomain': 'auto',
    'alwaysSendReferrer': true});

    ga("set", "transport", "beacon");
    ga('send', 'pageview');
    </script>
</head>

<body class="index">
    <a href="#" id="nav-button">
        <span>
            NAV
            <img src="images/navbar.png" />
        </span>
    </a>
    <div class="tocify-wrapper">
        <img src="images/logo.png" />
        <div class="search">
            <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
        <div id="toc">
        </div>
        <h2 class="toc-footer-title">Materiais complementares</h2>
        <ul class="toc-footer">
            <li><a href='/Webservice-1.5'>Manual de integração com o Webservice 1.5</a></li>
            <li><a href='/Webservice-1.5-Processamento-em-lote/'>Processamento em lote</a></li>
        </ul>
        <div class="links-footer">
            <ul class="link-list">
                <li class="cielo"><a href="https://www.cielo.com.br/">Cielo</a></li>
                <li class="github"><a href="https://github.com/developercielo">Cielo</a></li>
                <li class="desenvolvedores"><a href="https://www.cielo.com.br/desenvolvedores">Cielo</a></li>
            </ul>
        </div>
    </div>
    <div class="page-wrapper">
            <div class="content no-dark-box">
                <h1 id="perguntas-frequentes">Perguntas frequentes</h1>

<h2 id="como-funciona-a-solução-do-webservice-1.5-da-cielo?">Como funciona a solução do Webservice 1.5 da Cielo?</h2>

<p>A solução Webservice da plataforma Cielo E-commerce foi desenvolvida com tecnologia XML, que é padrão de mercado e independe da tecnologia utilizada por nossos clientes. Dessa forma, é possível integrar-se utilizando as mais variadas linguagens de programação, tais como: ASP, ASP. Net, Java, PHP, Ruby, Python, etc.</p>

<h2 id="É-preciso-algum-software-proprietário,-como-dlls,-para-fazer-a-integração?">É preciso algum software proprietário, como DLLs, para fazer a integração?</h2>

<p>Não. A ausência de aplicativos proprietários é uma das características da solução: Não é necessário instalar aplicativos no ambiente da loja virtual <strong>em nenhuma hipótese</strong>.</p>

<h2 id="que-tipo-de-conteúdo-é-enviado-na-integração?">Que tipo de conteúdo é enviado na integração?</h2>

<p>A integração é realizada através de serviços disponibilizados como Web Services. O modelo empregado é bastante simples: há uma única URL (endpoint) que recebe os POSTs via HTTPs e, dependendo do formato do XML enviado, uma determinada operação é realizada.</p>

<h2 id="como-o-webservice-da-cielo-sabe-que-a-requisição-é-da-minha-loja?">Como o Webservice da Cielo sabe que a requisição é da minha loja?</h2>

<p>Todas as requisições a Web Service da Cielo <strong>devem conter o nó de autenticação do lojista</strong>, composto pelo número de credenciamento e chave de acesso fornecidos pela Cielo no momento da afiliação.</p>

<h2 id="o-que-é-uma-transação?">O que é uma transação?</h2>

<p>O elemento central do Cielo E-commerce é a transação, criada a partir de uma requisição HTTP ao Webservice da Cielo. A identificação única de uma transação na Cielo é feita através do campo <strong>TID</strong>, que está presente no retorno das mensagens de autorização. Esse campo é essencial para realizar consultas, capturas e cancelamentos.</p>

<h2 id="quais-tipos-de-erros-podem-ocorrer-durante-a-integração?">Quais tipos de erros podem ocorrer durante a integração?</h2>

<p>Quando a transação é inválida, podemos classificar os erros em dois tipos:</p>

<ul>
<li><strong>Erros sintáticos</strong>: ocorrem quando a mensagem XML não respeita as regras definidas no arquivo ecommerce.xsd. Por exemplo, uma letra em um campo numérico, ou a ausência de um valor obrigatório;</li>
<li><strong>Erros semânticos</strong>: ocorrem quando uma requisição solicita uma operação não suportada para determinada transação. Por exemplo, tentar capturar uma transação não autorizada, ou ainda, cancelar uma transação já cancelada.</li>
</ul>

<p>As mensagens de erro sempre trazem informações adicionais que facilitam o troubleshooting.</p>

<h2 id="como-faço-uma-autorização-direta?">Como faço uma autorização direta?</h2>

<p>A autorização direta caracteriza-se por ser uma transação onde não há a autenticação do portador, seja por opção (e risco) do lojista, seja porque a bandeira ou emissor não tem suporte. A autorização direta pode ser feita de duas formas: tradicional (com os dados do cartão) ou através de um token.</p>

<h2 id="como-faço-uma-autorização-recorrente?">Como faço uma autorização recorrente?</h2>

<p>A autorização recorrente pode ser feita de duas formas: através do envio de um token previamente cadastrado, ou através de um cartão. A transação recorrente é praticamente igual à transação tradicional, as mudanças consistem nas regras que o emissor e a bandeira utilizam para autorizar ou negar uma transação. Outra diferença está relacionada ao Renova Fácil.</p>

<h2 id="É-possível-fazer-uma-captura-em-um-momento-após-a-autorização?">É possível fazer uma captura em um momento após a autorização?</h2>

<p>Uma transação autorizada somente gera o crédito para o estabelecimento comercial caso ela seja capturada. Por isso, toda venda que o lojista queira efetivar será preciso realizar a captura (ou confirmação) da transação.</p>

<p>Para vendas na modalidade de Crédito, essa confirmação pode ocorrer em dois momentos:</p>

<ul>
<li>Imediatamente após a autorização (captura total);</li>
<li>Posterior à autorização (captura total ou parcial).</li>
</ul>

<p>No primeiro caso, não é necessário enviar uma requisição de captura, pois ela é feita automaticamente pela Cielo após a autorização da transação. Para tanto, é preciso configurar a requisição de transação definindo-se o valor “true” para a TAG <capturar>, conforme visto na seção “Criando uma transação”.</p>

<p>Já no segundo caso, é preciso fazer uma “captura posterior”, através de uma nova requisição ao Webservice da Cielo para confirmar a transação e receber o valor da venda.</p>

<aside class="warning"><strong>Atenção!</strong>: Na modalidade de débito não existe essa opção: toda transação de débito autorizada é capturada automaticamente.</aside>

<h2 id="É-possível-cancelar-uma-transação?">É possível cancelar uma transação?</h2>

<p>O cancelamento é utilizado quando o lojista decide não efetivar um pedido de compra, seja por insuficiência de estoque, por desistência da compra pelo consumidor, ou qualquer outro motivo. Seu uso faz-se necessário principalmente se a transação estiver capturada, pois haverá débito na fatura do portador, caso ela não seja cancelada.</p>

<aside class="notice">Se a transação estiver apenas autorizada e a loja queira cancelá-la, o pedido de cancelamento não é necessário, pois após o prazo de captura expirar, ela será cancelada automaticamente pelo sistema.</aside>

<h2 id="existe-um-ambiente-para-testar-a-integração?">Existe um ambiente para testar a integração?</h2>

<p>Os testes de integração deverão ser realizados antes do início da homologação, durante o desenvolvimento (codificação) da solução. Para isso, deve-se considerar o seguinte ambiente como EndPoint do Webservice: <a href="https://qasecommerce.cielo.com.br/servicos/ecommwsec.do">https://qasecommerce.cielo.com.br/servicos/ecommwsec.do</a></p>

<p>Para facilitar o desenvolvimento disponibilizamos duas chaves para testes, uma para cada modalidade de integração. Com base nas configurações iniciais feitas durante o seu credenciamento, escolha os dados corretos para realizar os testes:</p>

<table><thead>
<tr>
<th>Número estabelecimento comercial</th>
<th>Chave de testes</th>
</tr>
</thead><tbody>
<tr>
<td>1006993069</td>
<td>25fbb99741c739dd84d7b06ec78c9bac718838630f30b112d033ce2e621b34f3</td>
</tr>
</tbody></table>

<aside class="notice">O ambiente de testes só deve ser utilizado pelos estabelecimentos de testes listados no quadro acima. O uso de dados originais do estabelecimento gerará transações não possíveis de rastreamento, gerando resultados incorretos. No ambiente de testes, use as credenciais para testes, no ambiente de produção, use os dados originais do estabelecimento.</aside>

<h2 id="existe-alguma-regra-para-leitura-de-cartões?">Existe alguma regra para leitura de cartões?</h2>

<p>A leitura dos dados do cartão no ambiente próprio é controlada por regras definidas pelo programa de segurança imposto pelas bandeiras de cartões.</p>

<p>Para a Visa, esse programa é o conhecido como AIS (Account Information Security) PCI. Para maiores informações acesse: <a href="www.cielo.com.br">www.cielo.com.br</a> &gt; Serviços &gt; Serviços de Segurança &gt; AIS – Programa de Segurança da Informação , ou entre em contato conosco.</p>

<p>Para a Mastercard o programa de segurança é o SDP (Site Data Protection) PCI. Para maiores informações acesse: <a href="http://www.mastercard.com/us/sdp/index.html">http://www.mastercard.com/us/sdp/index.html</a>, ou entre em contato conosco.</p>

<p>Ademais, atendidos os requisitos, no momento do credenciamento E-commerce deve ser mencionada a escolha por leitura do cartão na própria loja.</p>

            </div>
        </div>
    </body>
    </html>
